replicaCount: "{{ keycloak_replica_count }}"
image:
  repository: "{{ keycloak_image_repository }}"
  tag: "{{ keycloak_image_tag }}"
  pullPolicy: "{{ keycloak_image_pull_policy }}"
  pullSecrets:
    {{ keycloak_image_pull_secrets | to_nice_yaml | indent(4) | trim  }}

auth:
  existingSecret: "{{ keycloak_auth_existing_secret }}"
  secretName: "{{ keycloak_auth_secret_name }}"

  admin_password: "{{ keycloak_auth_admin_password }}"
  keycloak_rs256_privateKey: "{{ keycloak_auth_rs256_private_key }}"
  keycloak_rs256_certificate: "{{ keycloak_auth_rs256_certificate }}"
  keycloak_adminSecret: "{{ keycloak_auth_admin_secret }}"
  keycloak_clientSecret: "{{ keycloak_auth_client_secret }}"
  keycloak_serviceClientCertificate: "{{ keycloak_auth_service_client_certificate }}"

importRealms: "{{ keycloak_import_realms }}"

command:
  {{ keycloak_command | to_nice_yaml | indent(2) | trim }}
extraArgs:
  {{ keycloak_extra_args | to_nice_yaml | indent(2) | trim  }}
extraVolumes:
  {{ keycloak_extra_volumes | to_nice_yaml | indent(2) | trim }}
extraVolumeMounts:
  {{ keycloak_extra_volume_mounts | to_nice_yaml | indent(2) | trim }}

extraConfig:
  name: "{{ keycloak_extra_config_name }}"
  create: "{{ keycloak_extra_config_create }}"
  data:
    {{ keycloak_extra_config_data | to_nice_yaml | indent(4) | trim  }}
  external:
    {{ keycloak_extra_config_external  | to_nice_yaml | indent(4) | trim }}

extraSecret:
  name: "{{ keycloak_extra_secret_name }}"
  create: "{{ keycloak_extra_secret_create }}"
  data:
    {{ keycloak_extra_secret_data | to_nice_yaml | indent(4) | trim  }}
  external:
    {{ keycloak_extra_secret_external | to_nice_yaml | indent(4) | trim }}

database:
  url: "{{ keycloak_database_url }}"
  username: "{{ keycloak_database_username }}"
  password: "{{ keycloak_database_password }}"

realm:
  name: "{{ keycloak_realm_name }}"
  filepath: "{{ keycloak_realm_filepath }}"

restartPolicy: "{{ keycloak_restart_policy }}"

keycloak:
  hostname: "{{ keycloak_hostname }}"
  secondaryHostname: "{{ keycloak_secondary_hostname }}"
  frontendHostname: "{{ keycloak_frontend_hostname }}"
  hostnameBackchannelDynamic: "{{ keycloak_hostname_backchannel_dynamic }}"
  serviceMonitor:
    enabled: "{{ keycloak_service_monitor_enabled }}"
    path: "{{ keycloak_service_monitor_path }}"
    port: "{{ keycloak_service_monitor_port }}"

resources:
  limits:
    memory: "{{ keycloak_resources_limits_memory }}"
    cpu: "{{ keycloak_resources_limits_cpu }}"
  requests:
    memory: "{{ keycloak_resources_requests_memory }}"
    cpu: "{{ keycloak_resources_requests_cpu }}"

threadPool: "{{ keycloak_thread_pool }}"

startupProbe:
  enabled: "{{ keycloak_startup_probe_enabled }}"
  initialDelaySeconds: "{{ keycloak_startup_probe_initial_delay_seconds }}"
  periodSeconds: "{{ keycloak_startup_probe_period_seconds }}"
  timeoutSeconds: "{{ keycloak_startup_probe_timeout_seconds }}"
  failureThreshold: "{{ keycloak_startup_probe_failure_threshold }}"
  successThreshold: "{{ keycloak_startup_probe_success_threshold }}"

livenessProbe:
  enabled: "{{ keycloak_liveness_probe_enabled }}"
  initialDelaySeconds: "{{ keycloak_liveness_probe_initial_delay_seconds }}"
  periodSeconds: "{{ keycloak_liveness_probe_period_seconds }}"
  timeoutSeconds: "{{ keycloak_liveness_probe_timeout_seconds }}"
  failureThreshold: "{{ keycloak_liveness_probe_failure_threshold }}"
  successThreshold: "{{ keycloak_liveness_probe_success_threshold }}"

readinessProbe:
  enabled: "{{ keycloak_readiness_probe_enabled }}"
  initialDelaySeconds: "{{ keycloak_readiness_probe_initial_delay_seconds }}"
  periodSeconds: "{{ keycloak_readiness_probe_period_seconds }}"
  timeoutSeconds: "{{ keycloak_readiness_probe_timeout_seconds }}"
  failureThreshold: "{{ keycloak_readiness_probe_failure_threshold }}"
  successThreshold: "{{ keycloak_readiness_probe_success_threshold }}"

ingress:
  enabled2nd: "{{ keycloak_ingress_enabled_2nd }}"
  ingressClassName: "{{ keycloak_ingress_class_name }}"
  path: "{{ keycloak_ingress_path }}"
  pathType: "{{ keycloak_ingress_path_type }}"
  tls:
    enabled: "{{ keycloak_ingress_tls_enabled }}"
    secret: "{{ keycloak_ingress_tls_secret }}"

serviceAccount:
  create: "{{ keycloak_service_account_create }}"
  annotations:
    {{ keycloak_service_account_annotations | to_nice_yaml | indent(4) | trim }}
  name: "{{ keycloak_service_account_name }}"
  automountServiceAccountToken: "{{ keycloak_service_account_automount_token }}"

autoscaling:
  enabled: "{{ keycloak_autoscaling_enabled }}"
  minReplicas: "{{ keycloak_autoscaling_min_replicas }}"
  maxReplicas: "{{ keycloak_autoscaling_max_replicas }}"
  targetCPUUtilizationPercentage: "{{ keycloak_autoscaling_target_cpu_utilization_percentage }}"

podDisruptionBudget:
  enabled: "{{ keycloak_pod_disruption_budget_enabled }}"
  minAvailable: "{{ keycloak_pod_disruption_budget_min_available }}"
